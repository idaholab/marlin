[Tests]
  [channel_flow_2d]
    type = CSVDiff
    input = channel2D.i
    csvdiff = channel2D.csv
    requirement = 'The system shall be able to solve a 2D channel flow problem.'
    design = 'LBMStream.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [channel_flow_3d]
    type = CSVDiff
    input = channel3D.i
    csvdiff = channel3D.csv
    requirement = 'The system shall be able to solve a 3D channel flow problem.'
    design = 'LBMD3Q19.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [isotropic_mrt]
    type = CSVDiff
    input = isotropic_stencil_mrt.i
    csvdiff = isotropic_stencil_mrt.csv
    requirement = 'The system shall be able to solve a 3D channel flow problem with D3Q27 stencil and MRT collision.'
    design = 'LBMD3Q27.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [flow_around_obstacle]
    type = CSVDiff
    input = obstacle.i
    csvdiff = obstacle.csv
    requirement = 'The system shall be able to load tensor from h5 file and run LBMIterations.'
    design = 'LBMTensorBuffer.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [phase-field]
    type = CSVDiff
    input = phase.i
    csvdiff = phase.csv
    requirement = 'The system shall be able to solve Cahn-Hillard equation for phase evolution from random initial condition using LBM.'
    design = 'LBMComputeChemicalPotential.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 1
    max_parallel = 1
  []
  [dirichlet_box]
    type = CSVDiff
    input = dirichlet_box.i
    csvdiff = dirichlet_box.csv
    requirement = 'The system shall be able to apply Dirichlet boundary conditions.'
    design = 'LBMDirichletBC.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [dirichlet_wall]
    type = CSVDiff
    input = dirichlet_wall.i
    csvdiff = dirichlet_wall.csv
    requirement = 'The system shall be able to apply Dirichlet boundary conditions on the walls.'
    design = 'LBMDirichletBC.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [dirichlet_regional]
    type = CSVDiff
    input = dirichlet_regional.i
    csvdiff = dirichlet_regional.csv
    requirement = 'The system shall be able to apply Dirichlet boundary conditions on the walls defined by region id.'
    design = 'LBMDirichletBC.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [neumann_box]
    type = CSVDiff
    input = neumann_box.i
    csvdiff = neumann_box.csv
    requirement = 'The system shall be able to apply Neumann boundary conditions.'
    design = 'LBMNeumannBC.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [neumann_wall]
    type = CSVDiff
    input = neumann_wall.i
    csvdiff = neumann_wall.csv
    requirement = 'The system shall be able to apply Neumann boundary conditions on the walls.'
    design = 'LBMNeumannBC.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [neumann_regional]
    type = CSVDiff
    input = neumann_regional.i
    csvdiff = neumann_regional.csv
    requirement = 'The system shall be able to apply Neumann boundary conditions on the walls defined by region id.'
    design = 'LBMNeumannBC.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [stacking]
    type = CSVDiff
    input = stacking.i
    csvdiff = stacking.csv
    requirement = 'The system shall be able to stack tensors to create vectorial tensors.'
    design = 'LBMStackTensors.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 1
    max_parallel = 1
  []
  [vertical_density_bcs]
    type = CSVDiff
    input = vertical_density_bcs.i
    csvdiff = vertical_density_bcs.csv
    requirement = 'The system shall be able to apply microscopic density BC at every face.'
    design = 'LBMFixedZerothOrderBC.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [vertical_velocity_bcs]
    type = CSVDiff
    input = vertical_velocity_bcs.i
    csvdiff = vertical_velocity_bcs.csv
    requirement = 'The system shall be able to apply microscopic velocity BC at every face.'
    design = 'LBMFixedFirstOrderBC.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [horizontal_mixed_bcs_d2q9]
    type = CSVDiff
    input = horizontal_mixed_bcs_d2q9.i
    csvdiff = horizontal_mixed_bcs_d2q9.csv
    requirement = 'The system shall be able to apply mixture of microscopic density and velocity BC.'
    design = 'LBMFixedFirstOrderBC.md LBMFixedZerothOrderBC.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [horizontal_mixed_bcs_d2q9_reverse]
    type = CSVDiff
    input = horizontal_mixed_bcs_d2q9_reverse.i
    csvdiff = horizontal_mixed_bcs_d2q9_reverse.csv
    requirement = 'The system shall be able to apply mixture of microscopic density and zero gradient BC.'
    design = 'LBMFixedZerothOrderBC.md LBMMicroscopicZeroGradientBC'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [mixed_bcs_d3q19]
    type = CSVDiff
    input = mixed_bcs_d3q19.i
    csvdiff = mixed_bcs_d3q19.csv
    requirement = 'The system shall be able to apply mixture of microscopic density and velocity BC for D3Q19 stencil.'
    design = 'LBMFixedFirstOrderBC.md LBMFixedZerothOrderBC.md LBMD3Q19.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [mixed_bcs_d3q19_reverse]
    type = CSVDiff
    input = mixed_bcs_d3q19_reverse.i
    csvdiff = mixed_bcs_d3q19_reverse.csv
    requirement = 'The system shall be able to apply mixture of microscopic density and velocity BC for D3Q19 stencil.'
    design = 'LBMFixedFirstOrderBC.md LBMFixedZerothOrderBC.md LBMD3Q19.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [mixed_bcs_d3q27]
    type = CSVDiff
    input = mixed_bcs_d3q27.i
    csvdiff = mixed_bcs_d3q27.csv
    requirement = 'The system shall be able to apply mixture of microscopic density and velocity BC for D3Q27 stencil.'
    design = 'LBMFixedFirstOrderBC.md LBMFixedZerothOrderBC.md LBMD3Q27.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [mixed_bcs_d3q27_reverse]
    type = CSVDiff
    input = mixed_bcs_d3q27_reverse.i
    csvdiff = mixed_bcs_d3q27_reverse.csv
    requirement = 'The system shall be able to apply mixture of microscopic density and velocity BC for D3Q27 stencil.'
    design = 'LBMFixedFirstOrderBC.md LBMFixedZerothOrderBC.md LBMD3Q27.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [smagorinsky_mrt]
    type = CSVDiff
    input = smagorinsky_mrt.i
    csvdiff = smagorinsky_mrt.csv
    requirement = 'The system shall be able to solve Smagorinsky MRT collision.'
    design = 'LBMCollisionDynamics.md'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
  [smagorinsky_mrt_jit]
    type = CSVDiff
    input = smagorinsky_mrt.i
    csvdiff = smagorinsky_mrt.csv
    requirement = 'The system shall be able to solve Smagorinsky MRT collision with jit tracing.'
    design = 'LBMCollisionDynamics.md'
    cli_args = 'TensorComputes/Solve/root/enable_jit=true'
    compute_devices = 'cpu cuda mps'
    min_parallel = 4
    max_parallel = 4
  []
[]
